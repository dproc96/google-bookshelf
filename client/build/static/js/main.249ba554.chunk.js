(this["webpackJsonpgoogle-bookshelf"]=this["webpackJsonpgoogle-bookshelf"]||[]).push([[0],{38:function(e,t,n){e.exports=n(74)},74:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(19),l=n.n(r),c=n(11),i=n(2),s=n(3),p=n(6),h=n(4),u=n(5),d=n(15),b=n(12),m=n(20),f=n.n(m),O=n(16),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).handleInputChange=n.props.handleInputChange.bind(Object(O.a)(n)),n.handleFormSubmit=n.props.handleFormSubmit.bind(Object(O.a)(n)),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("input",{value:this.props.search,name:"search",type:"text",onChange:this.handleInputChange}),a.a.createElement(d.b,{to:"/",onClick:this.handleFormSubmit},"Submit"))}}]),t}(a.a.Component);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var C=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={width:"300px",backgroundColor:"#0F3738",height:"100vh",color:"#eeeeee",textAlign:"center",borderRight:"1px #333333 solid",boxShadow:"2px 2px 2px 2px rgba(0, 0, 0, 0.4)"},t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{width:"100%",height:"max content",display:"block",padding:"20px 0px"});return a.a.createElement("div",{style:this.props.isDesktop?e:t},a.a.createElement("h1",null,"Google Bookshelf"),a.a.createElement("p",null,"Start searching books to add them to the collection or take a look at what's already in the collection!"),a.a.createElement(g,this.props),a.a.createElement(d.b,{onClick:this.props.handleCollectionClick,to:"/collection"},"View Collection"))}}]),t}(a.a.Component),j=n(48),y={getBooksExternal:function(e){return j.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&maxResults=40")},addToCollection:function(e){return j.post("".concat(window.location.origin,"/api/new"),e)},removeFromCollection:function(e){return j.post("".concat(window.location.origin,"/api/delete/").concat(e))},getCollection:function(){return j.get("".concat(window.location.origin,"/api/"))}},w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},n.onHover=function(){n.setState({hovered:!0})},n.onHoverEnd=function(){n.setState({hovered:!1})},n.handleClick=function(){var e=n.generateJSX();n.props.alterModal(e),n.props.handleOpenModal()},n.addToCollection=function(){y.addToCollection(n.props.book).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),n.props.handleCloseModal()},n.removeFromCollection=function(){y.removeFromCollection(n.props.book._id),n.props.handleCloseModal(),window.location.reload()},n.generateJSX=function(){var e=n.props.book;return a.a.createElement("div",null,a.a.createElement("h2",null,e.title),a.a.createElement("h3",null,"By ",e.authors.join(", ")),a.a.createElement("p",null,e.description),a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url},"See More"),n.props.inCollection?a.a.createElement("button",{onClick:n.removeFromCollection},"Remove from Collection"):a.a.createElement("button",{onClick:n.addToCollection},"Add to Collection"))},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={width:this.state.hovered?"150px":"140px",height:this.state.hovered?"225px":"210px",margin:this.state.hovered?"2.5px 5px":"10px",border:"1px #bbbbbb solid",boxShadow:"2px 2px 2px 2px rgba(0, 0, 0, 0.4)",borderRadius:"3px",cursor:this.state.hovered?"pointer":"auto",overflow:"hidden",backgroundColor:"#eeeeee"},t=this.props.book;return a.a.createElement("div",{style:e,onClick:this.handleClick,onMouseOver:this.onHover,onMouseOut:this.onHoverEnd},a.a.createElement("img",{style:{width:"100%"},alt:t.title,src:t.img}))}}]),t}(a.a.Component);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var x=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.results.sort((function(e,t){return t.volumeInfo.ratingsCount-e.volumeInfo.ratingsCount})).map((function(t){var n={title:t.volumeInfo.title,authors:t.volumeInfo.authors,description:t.volumeInfo.description,url:t.volumeInfo.infoLink};n.description&&n.description.length>500&&(n.description=n.description.slice(0,501)+"...");try{n.img=t.volumeInfo.imageLinks.thumbnail}catch(o){n.img="https://via.placeholder.com/100x150?text=".concat(n.title)}return a.a.createElement(w,{inCollection:!1,alterModal:e.props.alterModal,handleOpenModal:e.props.handleOpenModal,handleCloseModal:e.props.handleCloseModal,book:n,key:n.id})})),n={display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{justifyContent:"space-around"});return a.a.createElement("div",{style:this.props.isDesktop?n:o},t)}}]),t}(a.a.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.props.isDesktop?{width:"Calc(100vw - 200px)",overflow:"scroll",height:"100vh"}:{width:"100vw",height:"max content",overflow:"visible"}},a.a.createElement(x,this.props))}}]),t}(a.a.Component);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var S=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{justifyContent:"space-around"});return a.a.createElement("div",{style:this.props.isDesktop?e:t},this.props.collection)}}]),t}(a.a.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:this.props.isDesktop?{width:"Calc(100vw - 200px)",overflow:"scroll",height:"100vh"}:{width:"100vw",height:"max content",overflow:"visible"}},a.a.createElement(S,this.props))}}]),t}(a.a.Component),P=n(37),I=n.n(P),F=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).getCollection=function(){y.getCollection().then((function(e){console.log(e);var t=e.data.map((function(e){return a.a.createElement(w,{inCollection:!0,alterModal:n.alterModal,handleOpenModal:n.handleOpenModal,handleCloseModal:n.handleCloseModal,book:e,key:e._id})}));n.setState({collection:t})})).catch((function(e){console.log(e)}))},n.handleInputChange=function(e){var t=e.target,o=t.name,a=t.value;n.setState(Object(c.a)({},o,a))},n.handleFormSubmit=function(){y.getBooksExternal(n.state.search).then((function(e){e=e.data.items,n.setState({results:e})})).catch((function(e){console.log(e)}))},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1,modalContents:null})},n.alterModal=function(e){n.setState({modalContents:e})},n.state={search:"",results:[],showModal:!1,modalContents:null,collection:null},n.getCollection(),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(d.a,null,a.a.createElement(f.a,{minWidth:768},a.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},a.a.createElement(C,{isDesktop:!0,search:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,handleCollectionClick:this.getCollection}),a.a.createElement(b.a,{exact:!0,path:"/",component:function(){return a.a.createElement(E,{isDesktop:!0,results:e.state.results,handleOpenModal:e.handleOpenModal,alterModal:e.alterModal,handleCloseModal:e.handleCloseModal})}}),a.a.createElement(b.a,{exact:!0,path:"/collection",component:function(){return a.a.createElement(D,{isDesktop:!0,collection:e.state.collection})}}))),a.a.createElement(f.a,{maxWidth:767},a.a.createElement("div",null,a.a.createElement(C,{isDesktop:!1,search:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,handleCollectionClick:this.getCollection}),a.a.createElement(b.a,{exact:!0,path:"/",component:function(){return a.a.createElement(E,{isDesktop:!1,results:e.state.results,handleOpenModal:e.handleOpenModal,alterModal:e.alterModal,handleCloseModal:e.handleCloseModal})}}),a.a.createElement(b.a,{exact:!0,path:"/collection",component:function(){return a.a.createElement(D,{isDesktop:!1,collection:e.state.collection})}}))),a.a.createElement(I.a,{style:{content:{width:"500px",maxWidth:"90%",height:"max-content",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",textAlign:"center",backgroundColor:"#5DC3C7",border:"1px #bbbbbb solid",boxShadow:"2px 2px 2px 2px rgba(0, 0, 0, 0.4)"}},isOpen:this.state.showModal},this.state.modalContents,a.a.createElement("button",{onClick:this.handleCloseModal},"Close")))}}]),t}(a.a.Component);l.a.render(a.a.createElement(F,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.249ba554.chunk.js.map